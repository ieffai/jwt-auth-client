{"version":3,"sources":["styles/useStyles.js","components/Header.jsx","components/Popup.jsx","components/Hero.jsx","pages/Home.jsx","http/index.js","App.js","services/AuthService.js","index.js","store/store.js"],"names":["useStyles","makeStyles","theme","menuButton","marginRight","spacing","mainFeaturesPost","position","color","palette","common","white","backgroundSize","backgroundRepeat","backgroundPosition","minHeight","overlay","top","bottom","right","left","backgroundColor","title","flexGrow","mainFeaturesPostContent","padding","marginTop","Header","classes","store","React","useContext","Context","AppBar","Container","fixed","Toolbar","IconButton","edge","aria-label","className","Typography","variant","isAuth","user","email","Button","onClick","logout","popupName","buttonName","buttonColor","buttonVariant","observer","useState","open","setOpen","handleClose","setEmail","password","setPassword","Box","mr","Dialog","onClose","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","TextField","autoFocus","margin","label","type","fullWidth","onChange","e","target","value","DialogActions","login","registration","error","console","log","handleSend","Hero","username","get","Paper","style","backgroundImage","Grid","container","component","gutterBottom","paragraph","Home","API_URL","api","axios","create","withCredentials","baseURL","interceptors","request","use","config","headers","Authorization","localStorage","getItem","response","a","originalRequest","status","_isRetry","setItem","data","accessToken","useEffect","checkAuth","isLoading","AuthService","post","makeAutoObservable","this","autoBind","bool","setAuth","setUser","message","setError","removeItem","setLoading","createContext","ReactDOM","render","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.297666c2.chunk.js","sourcesContent":["import { makeStyles } from '@material-ui/core';\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    menuButton: {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n    mainFeaturesPost: {\r\n        position: 'relative',\r\n        color: theme.palette.common.white,\r\n        backgroundSize: 'cover',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundPosition: 'center',\r\n        minHeight: '100vh',\r\n      },\r\n      overlay: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        left: 0,\r\n        backgroundColor: 'rgba(0,0,0,.3)',\r\n      },\r\n      title: {\r\n        flexGrow: 1\r\n      },\r\n      mainFeaturesPostContent: {\r\n        position: 'relative',\r\n        padding: theme.spacing(6),\r\n        marginTop: theme.spacing(8),\r\n      },\r\n  }));","import React from 'react';\r\nimport { AppBar, Container, Toolbar, IconButton, Typography } from '@material-ui/core';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Context } from '../index';\r\nimport { Popup } from '../components';\r\nimport { useStyles } from '../styles/useStyles';\r\n\r\nfunction Header() {\r\n  const classes = useStyles();\r\n  const store = React.useContext(Context);\r\n\r\n  const authorizedHeader = () => {\r\n    return (\r\n      <>\r\n        <Popup\r\n          popupName={'Log In'}\r\n          buttonName={'Log In'}\r\n          buttonColor={'inherit'}\r\n          buttonVariant={'outlined'}\r\n        />\r\n        <Popup\r\n          popupName={'Sign Up'}\r\n          buttonName={'Sign Up'}\r\n          buttonColor={'secondary'}\r\n          buttonVariant={'contained'}\r\n        />\r\n      </>\r\n    );\r\n  };\r\n\r\n  const unAuthorizedHeader = () => {\r\n    return (\r\n      <Button onClick={() => store.logout()} variant=\"contained\" color=\"secondary\">\r\n        Log Out\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"fixed\">\r\n      <Container fixed>\r\n        <Toolbar>\r\n          <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\" className={classes.menuButton}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            {store.isAuth ? `${store.user.email}` : 'JWT App'}\r\n          </Typography>\r\n          {store.isAuth ? unAuthorizedHeader() : authorizedHeader()}\r\n        </Toolbar>\r\n      </Container>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Context } from '../index';\r\nimport { observer } from 'mobx-react-lite';\r\n\r\nimport { Box } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\nfunction Popup({ popupName, buttonColor, buttonVariant, buttonName }) {\r\n  const store = React.useContext(Context);\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  function handleSend(buttonName) {\r\n    buttonName === 'Log In' ? store.login(email, password) : store.registration(email, password);\r\n    store.error === null ? setOpen(false) : console.log('test');\r\n  }\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  return (\r\n    <Box mr={3}>\r\n      <Button onClick={handleOpen} color={buttonColor} variant={buttonVariant}>\r\n        {buttonName}\r\n      </Button>\r\n\r\n      <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">{popupName} form</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>LOG IN TO SEE WHAT WILL HAPPEN</DialogContentText>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            fullWidth\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            value={email}\r\n          />\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"pass\"\r\n            label=\"Password\"\r\n            type=\"Password\"\r\n            fullWidth\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            value={password}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={() => handleSend(buttonName)} color=\"primary\">\r\n            {buttonName}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default observer(Popup);\r\n","import React from 'react';\r\nimport { Popup } from '../components';\r\nimport { Paper, Container, Grid, Typography } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useStyles } from '../styles/useStyles';\r\nimport { Context } from '../index';\r\n\r\nfunction Hero() {\r\n  const store = React.useContext(Context);\r\n  const username = store.user.email;\r\n  const classes = useStyles();\r\n  const gridAuth = () => {\r\n    return (\r\n      <>\r\n        <Grid container>\r\n          <div className={classes.mainFeaturesPostContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" color=\"inherit\" gutterBottom>\r\n              JWT Authorization and registration\r\n            </Typography>\r\n            <Typography variant=\"h5\" color=\"inherit\" paragraph>\r\n              On this App you will see my logic for authorization and registration\r\n            </Typography>\r\n            <Popup\r\n              popupName={'Log In'}\r\n              buttonName={'Lets go!'}\r\n              buttonColor={'secondary'}\r\n              buttonVariant={'contained'}\r\n            />\r\n          </div>\r\n        </Grid>\r\n      </>\r\n    );\r\n  };\r\n  const gridUnAuth = () => {\r\n    return (\r\n      <>\r\n        <Grid container>\r\n          <div className={classes.mainFeaturesPostContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" color=\"inherit\" gutterBottom>\r\n              So, {username} you finally get registered\r\n            </Typography>\r\n            <Typography variant=\"h5\" color=\"inherit\" paragraph>\r\n              What a pleasure\r\n            </Typography>\r\n            <Button onClick={get} color=\"secondary\" variant=\"contained\">\r\n              GET\r\n            </Button>\r\n          </div>\r\n        </Grid>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const get = () => {\r\n    console.log(store.user.email);\r\n  };\r\n  return (\r\n    <>\r\n      <Paper\r\n        className={classes.mainFeaturesPost}\r\n        style={{ backgroundImage: `url(https://source.unsplash.com/random)` }}>\r\n        <Container fixed>\r\n          <div className={classes.overlay} />\r\n          {!store.isAuth ? gridAuth() : gridUnAuth()}\r\n        </Container>\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Hero;\r\n","import React from 'react';\r\nimport { Hero } from '../components';\r\n\r\nfunction Home() {\r\n  return (\r\n    <>\r\n      <Hero />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import axios from 'axios';\r\n\r\nexport const API_URL = 'http://localhost:5000/api';\r\n\r\nconst api = axios.create({\r\n    withCredentials: true,\r\n    baseURL: API_URL\r\n});\r\n\r\napi.interceptors.request.use((config) => {\r\n    config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`\r\n    return config;\r\n})\r\n\r\napi.interceptors.response.use(\r\n    (config) => { return config },\r\n    async (error)=> {\r\n        const originalRequest = error.config;\r\n        if (error.response.status === 401 && error.config && !error.config._isRetry) {\r\n            originalRequest._isRetry = true;\r\n            try {\r\n                const response = await axios.get(`${API_URL}/refresh`, {withCredentials: true});\r\n                localStorage.setItem('token', response.data.accessToken);\r\n                return api.request(originalRequest); \r\n            } catch (error) {\r\n                console.log('UNATHORIZED')\r\n            }\r\n        }\r\n        throw error;\r\n    }\r\n)\r\n\r\nexport default api;\r\n","import React from 'react';\nimport { Header } from './components';\nimport { Home } from './pages';\nimport { Context } from './index';\nimport { observer } from 'mobx-react-lite'\nimport UserService from \"./services/UserServices\";\n\nfunction App() {\n  const store = React.useContext(Context);\n  const [users, setUsers] = React.useState([]);\n\n  React.useEffect(() => {\n    if (localStorage.getItem('token')) {\n      store.checkAuth();\n    }\n  }, [])\n\n  async function getUsers() {\n    try {\n      const response = await UserService.fetchUsers();\n      setUsers(response.data);\n\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  if (store.isLoading) {\n    return <div>...Loading</div>\n  }\n    return(\n      <>\n        {/* //тут что-то не понятное, прокидываю, но в хедере не достаю, но без этого - не работает... */}\n        <Header a={store.isAuth}/> \n        <Home />\n      </>\n    )\n}\n\nexport default observer(App);\n","import api from \"../http\";\r\n\r\nexport default class AuthService {\r\n    static async login(email, password) {\r\n        return api.post('/login', { email, password })\r\n    }\r\n\r\n    static async registration(email, password) {\r\n        return api.post('/registration', { email, password })\r\n    }\r\n    static async logout() {\r\n        return api.post('/logout')\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/app.scss';\nimport App from './App';\nimport Store from './store/store';\n\nconst store = new Store();\n\nexport const Context = React.createContext({ store })\n\nReactDOM.render(\n  <Context.Provider value={store}>\n    <App />\n  </Context.Provider>, \n  document.getElementById('root')\n);\n","import { makeAutoObservable } from 'mobx';\r\nimport AuthService from \"../services/AuthService\";\r\nimport axios from 'axios';\r\nimport { API_URL } from '../http';\r\n\r\n\r\nexport default class Store {\r\n    user = {};\r\n    isAuth = false;\r\n    isLoading = false;\r\n    error = null;\r\n\r\n    constructor() {\r\n        makeAutoObservable(this, {}, { autoBind: true });\r\n    }\r\n   \r\n    setAuth(bool) {\r\n        this.isAuth = bool;\r\n    }\r\n    setUser(user) {\r\n        this.user = user;\r\n    }\r\n    setLoading(bool) {\r\n        this.isLoading = bool;\r\n    }\r\n\r\n    setError(error) {\r\n        this.error = error;\r\n    }\r\n    async login(email, password) {\r\n        try {\r\n            const response = await AuthService.login(email, password);\r\n            localStorage.setItem('token', response.data.accessToken);\r\n            this.setAuth(true);\r\n            this.setUser(response.data.user);\r\n            console.log(response.data.user.email);\r\n        } catch(error) {\r\n            console.log(error.response?.data?.message);\r\n        }\r\n    }\r\n\r\n    async registration(email, password) {\r\n        try {\r\n            await AuthService.registration(email, password);\r\n        } catch(error) {\r\n            this.setError(error);\r\n        }\r\n    }\r\n\r\n    async logout() {\r\n        try {\r\n            const response = await AuthService.logout();\r\n            localStorage.removeItem('token');\r\n            this.setAuth(false);\r\n            this.setUser( {} );\r\n        } catch(error) {\r\n            console.log(error.response?.data?.message);\r\n        }\r\n    }\r\n\r\n    async checkAuth() {\r\n        this.setLoading(true);\r\n        try {\r\n            const response = await axios.get(`${API_URL}/refresh`, {withCredentials: true});\r\n            localStorage.setItem('token', response.data.accessToken);\r\n            this.setAuth(true);\r\n            this.setUser(response.data.user);\r\n        } catch (error) {\r\n            console.log(error.response?.data?.message);\r\n        } finally {\r\n            this.setLoading(false);\r\n        }\r\n    }\r\n\r\n}"],"sourceRoot":""}